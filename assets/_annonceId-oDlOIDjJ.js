import{i6 as j,a9 as C,i7 as f,aY as A,i8 as S,j as a,q as w,af as N,aj as v,o as L,i9 as G,x as r}from"./index-eUHPqHPG.js";import{u as b}from"./getWilaya-BTdRuymA.js";function F(){const{lang:n,annonceId:o}=j.useParams(),t=C(),{data:l,isLoading:d}=f(o),c=l?.annonce,{data:u,isLoading:m}=b({lang:n==="ar"?"ar_AR":"fr_FR"}),{data:p,isLoading:x}=A(),i=S();async function g(e){try{const s=e.classGrandChild||e.classChild||e.class;await i.mutateAsync({annonceId:o,payload:{telephone:e.telephone,region:e.region,catalogue:s}}),r.success("Ad created successfully! It will be reviewed shortly."),t({to:"/$lang/mes_annonces",params:{lang:n}})}catch(s){const h=s.response?.data?.message||s.message||"Failed to complete ad creation";r.error(h)}}function y(){t({to:"/$lang/mes_annonces",params:{lang:n}})}return d?a.jsx("div",{className:"container mx-auto max-w-2xl py-4 px-4",children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(w,{className:"h-8 w-8 animate-spin text-muted-foreground"})})}):c?a.jsx("div",{className:"container mx-auto max-w-2xl py-4 px-4",children:a.jsx(G,{annonce:c,wilayas:u||[],catalogueOptions:p?.categories||[],isLoadingWilayas:m,isLoadingCatalogue:x,onSubmit:g,onCancel:y,isSubmitting:i.isPending})}):a.jsx("div",{className:"container mx-auto max-w-2xl py-4 px-4",children:a.jsx(N,{children:a.jsxs(v,{className:"py-12 text-center",children:[a.jsx("p",{className:"text-muted-foreground",children:"Annonce not found"}),a.jsx(L,{variant:"outline",className:"mt-4",onClick:()=>t({to:"/$lang/ads/create",params:{lang:n}}),children:"Go back to create"})]})})})}export{F as component};
