import{m as f,j as s,a as i,H as h,C as g,r as d,g as c,n as m,o as u,i as j,u as y,q as w,S as N}from"./index-BdqRUGKt.js";import{g as v,G as b,F as k}from"./global-C5SX3nWw.js";import{C,A as q}from"./jobCard-DkSNYHFx.js";import{L as x}from"./loader-circle-CQuOfnsK.js";import{P as A}from"./posts-C2LrsjLk.js";import"./useMutation-WBesNOfB.js";const p=f.forwardRef(({className:e,sizeClass:a="h-11 px-4 py-3",fontClass:t="sm:text-sm font-normal",rounded:r="rounded-full",type:n="text",...o},l)=>s.jsx("input",{ref:l,type:n,className:i("block w-full border-neutral-200 bg-white focus:border-primary-300 focus:ring-3 focus:ring-primary-200/50 dark:border-neutral-700 dark:bg-neutral-900 dark:focus:ring-primary-600/25",r,t,a,e),...o}));p.displayName="Input";const P=({isFr:e})=>{const a=t=>{t?.preventDefault();const n=document.getElementById("s").value.trim();if(n){const o=e?"fr":"ar",l=`https://ana.fibladi.com/${o}/search/?q=${encodeURIComponent(n)}&l=${o}`;window.location.href=l}};return s.jsx("div",{className:"px-[5px] sm:px-0 sm:container w-full",children:s.jsx("header",{className:"mx-auto flex max-w-2xl flex-col",children:s.jsx("form",{className:"relative ",onSubmit:a,children:s.jsxs("label",{htmlFor:"s",children:[s.jsx("span",{className:"sr-only",children:"Search"}),s.jsx(p,{id:"s",name:"s",type:"search",placeholder:e?"Rechercher une news, des produits ou des offres d'emploi":"ابحث عن خبر ,منتجات أو عروض عمل",className:"rounded-full shadow-lg border-2 ",sizeClass:"ps-10 py-3 pe-5 md:ps-12"}),s.jsx("button",{type:"button",onClick:()=>a(),className:`absolute start-2 top-1/2 -translate-y-1/2 transform
                text-2xl md:start-3
                p-1.5 rounded-full
                transition-colors duration-200
                hover:bg-neutral-200 dark:hover:bg-neutral-700 cursor-pointer
                active:bg-neutral-300 dark:active:bg-neutral-600
                focus:outline-none focus:ring-2 focus:ring-primary-500`,"aria-label":"Search",children:s.jsx(h,{icon:g,size:24})})]})})})})},S=({isFr:e})=>{const[a,t]=d.useState([]);return d.useEffect(()=>{async function r(){t(await v())}r()},[]),s.jsx("div",{className:" py-4 px-[5px] sm:px-0",children:s.jsx("div",{className:" flex  gap-x-4 sm:flex-none sm:grid sm:grid-cols-8  sm:gap-x-4     sm:auto-rows-fr sm:auto-cols-fr overflow-x-auto sm:overflow-x-visible  hidden-scrollbar",children:a.filter(r=>r.order!==1).map(r=>s.jsxs("a",{href:r.links[e?"fr":"ar"],className:c("flex flex-col items-center space-y-2 ",!e&&"px-4"),children:[s.jsx("div",{className:"w-12 h-12 lg:w-12 lg:h-12 bg-neutral-50 hover:bg-neutral-100 dark:bg-neutral-800 dark:hover:bg-neutral-700 border  rounded-2xl p-2.5 lg:p-2.5 ",style:{color:r.color},dangerouslySetInnerHTML:{__html:r.img}}),s.jsx("span",{className:c("text-xs  font-normal lg:whitespace-nowrap"),children:r.text[e?"fr":"ar"]})]},r.links.fr))})})},F=({lang:e="fr"})=>m({staleTime:3e5,queryKey:["first",e],queryFn:async()=>{try{const t=await u.get(`/api/feed/first/${e}`),{posts:r}=t.data;return r}catch(t){throw new Error(t.response?.data?.message||"An error occurred while loading first posts")}}}),L=({vr:e})=>{const{data:a,isLoading:t}=F({lang:e});return s.jsx("div",{className:"py-2.5",children:s.jsxs("div",{className:i("grid gap-0 md:gap-0"),children:[a?.map((r,n)=>s.jsx("div",{children:s.jsx(C,{className:"py-1",post:r,vr:e})},r.id||n)),t&&s.jsx("div",{className:"flex justify-center py-40",children:s.jsx(x,{className:"w-6 h-6 animate-spin text-primary"})})]})})},z=({lang:e="fr"})=>m({staleTime:3e5,queryKey:["firstads",e],queryFn:async()=>{try{const t=await u.get(`/api/feed/firstads/${e}`),{ads:r}=t.data;return r}catch(t){throw new Error(t.response?.data?.message||"An error occurred while loading first Ads")}}}),R=({color:e,outline:a,plain:t,children:r,...n})=>s.jsx(j,{color:e??"lime",...n,children:r});function $(e){return b({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 24C0 10.7 10.7 0 24 0L69.5 0c22 0 41.5 12.8 50.6 32l411 0c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3l-288.5 0 5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5L488 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-288.3 0c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5L24 48C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"},child:[]}]})(e)}const E=({vr:e})=>{const{data:a,isLoading:t}=z({lang:e});return s.jsxs("div",{className:"py-2.5",children:[s.jsxs("div",{className:i("grid gap-0 md:gap-0"),children:[a?.map((r,n)=>s.jsx("div",{children:s.jsx(q,{className:"py-1",ad:r,vr:e})},r.id||n)),t&&s.jsx("div",{className:"flex justify-center py-40",children:s.jsx(x,{className:"w-6 h-6 animate-spin text-primary"})})]}),s.jsx("div",{className:"text-center text-muted-foreground flex items-center space-x-4 w-full mt-2",children:s.jsxs(R,{href:`/${e}/ads/create`,color:"orange",className:"cursor-pointer w-full h-14 font-semibold    rounded-sm before:rounded-sm after:rounded-sm dark:after:rounded-sm",children:[s.jsx(k,{className:"size-4"}),s.jsx("span",{children:e==="fr"?"Ajoutez gratuitement votre annonce":"تحديث"}),s.jsx($,{className:"size-4"})]})})]})};function D(){const e=y(),a=w.useParams().lang;return s.jsxs("div",{className:"sm:container text-center flex",children:[s.jsx("div",{className:"hidden md:block md:w-2/5 lg:w-1/3 xl:w-5/22  py-1 ",children:s.jsx("div",{className:c("sticky top-2"),children:s.jsx(N,{vr:a})})}),s.jsxs("div",{className:"w-full md:w-3/5 lg:w-2/3 xl:w-11/22 xl:mx-[calc(100%/44)] flex  flex-col  text-5xl  py-4",children:[s.jsx(P,{isFr:e}),s.jsx(S,{isFr:e}),s.jsxs("div",{className:"text-start",children:[s.jsx(L,{vr:a}),s.jsx(E,{vr:a}),s.jsx(A,{vr:a,type:"all"},`posts-${a}`)]})]})]})}export{D as component};
