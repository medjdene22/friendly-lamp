import{ad as t,a9 as f,aa as j,x as l,D as w,j as e,ab as o,ac as c,o as N,q as v,L as y}from"./index-CNlayydN.js";import{L as b}from"./Logo-CxL9Vker.js";function F(){const m=t.useRouteContext().queryClient,{redirectUrl:d}=t.useRouteContext(),{callbackUrl:u}=t.useSearch(),x=f(),{mutate:p,isPending:a}=j({mutationFn:async s=>{try{return(await w.post("/api/auth/login",{email:s.email,password:s.password})).data}catch(r){throw new Error(r.response?.data?.message||"An error occurred while signing in.")}},onError:s=>{l.error(s.message||"An error occurred while signing in.")},onSuccess:async()=>{l.success("login succes "),m.removeQueries({queryKey:["user"]}),x({to:u??d})}}),g=s=>{if(s.preventDefault(),a)return;const r=new FormData(s.currentTarget),n=r.get("email"),i=r.get("password");!n||!i||p({email:n,password:i})},h=t.useParams().lang;return e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsx("form",{onSubmit:g,children:e.jsxs("div",{className:"flex flex-col gap-12",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-md",children:e.jsx(b,{label:"Fibladi ",size:"size-10",className:"  justify-center  ",textclassName:"text-2xl  md:text-4xl  font-medium  font-family-be-vietnam-pro ",link:"https://fibladi.com/fr"})}),e.jsx("span",{className:"sr-only",children:"Fibladi"})]}),e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"email",children:"Email"}),e.jsx(c,{id:"email",name:"email",type:"email",placeholder:"hello@example.com",readOnly:a,required:!0,autoComplete:"username"})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(o,{htmlFor:"password",children:"Password"}),e.jsx(c,{id:"password",name:"password",type:"password",placeholder:"Enter password here",readOnly:a,required:!0,autoComplete:"current-password"})]}),e.jsxs(N,{type:"submit",className:"mt-2 w-full text-lg md:text-lg",size:"lg",disabled:a,children:[a&&e.jsx(v,{className:"animate-spin"}),a?"Logging in...":"Login"]})]}),e.jsx("div",{className:"grid gap-4 sm:grid-cols-2"})]})}),e.jsxs("div",{className:"text-center text-sm",children:["Don't have an account?"," ",e.jsx(y,{to:"/$lang/signup",params:{lang:h},className:"underline underline-offset-4",children:"Sign up"})]}),e.jsxs("div",{className:"text-center text-sm",children:[e.jsx("p",{children:"imad55777@gmail.com"}),e.jsx("p",{children:"imad55777"})]})]})}export{F as component};
