import{m as b,d$ as Rt,e0 as Tt,b0 as Ut}from"./index-BdqRUGKt.js";var he=e=>e.type==="checkbox",ne=e=>e instanceof Date,W=e=>e==null;const lt=e=>typeof e=="object";var L=e=>!W(e)&&!Array.isArray(e)&&lt(e)&&!ne(e),ft=e=>L(e)&&e.target?he(e.target)?e.target.checked:e.target.value:e,Lt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,ct=(e,s)=>e.has(Lt(s)),Mt=e=>{const s=e.constructor&&e.constructor.prototype;return L(s)&&s.hasOwnProperty("isPrototypeOf")},Oe=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function M(e){let s;const t=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)s=new Date(e);else if(!(Oe&&(e instanceof Blob||i))&&(t||L(e)))if(s=t?[]:Object.create(Object.getPrototypeOf(e)),!t&&!Mt(e))s=e;else for(const u in e)e.hasOwnProperty(u)&&(s[u]=M(e[u]));else return e;return s}var Ve=e=>/^\w*$/.test(e),R=e=>e===void 0,Re=e=>Array.isArray(e)?e.filter(Boolean):[],Te=e=>Re(e.replace(/["|']|\]/g,"").split(/\.|\[/)),y=(e,s,t)=>{if(!s||!L(e))return t;const i=(Ve(s)?[s]:Te(s)).reduce((u,a)=>W(u)?u:u[a],e);return R(i)||i===e?R(e[s])?t:e[s]:i},j=e=>typeof e=="boolean",w=(e,s,t)=>{let i=-1;const u=Ve(s)?[s]:Te(s),a=u.length,l=a-1;for(;++i<a;){const f=u[i];let A=t;if(i!==l){const E=e[f];A=L(E)||Array.isArray(E)?E:isNaN(+u[i+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;e[f]=A,e=e[f]}};const _e={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Z={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ee={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},dt=b.createContext(null);dt.displayName="HookFormContext";const Ue=()=>b.useContext(dt);var yt=(e,s,t,i=!0)=>{const u={defaultValues:s._defaultValues};for(const a in e)Object.defineProperty(u,a,{get:()=>{const l=a;return s._proxyFormState[l]!==Z.all&&(s._proxyFormState[l]=!i||Z.all),t&&(t[l]=!0),e[l]}});return u};const Le=typeof window<"u"?b.useLayoutEffect:b.useEffect;function pt(e){const s=Ue(),{control:t=s.control,disabled:i,name:u,exact:a}=e||{},[l,f]=b.useState(t._formState),A=b.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Le(()=>t._subscribe({name:u,formState:A.current,exact:a,callback:E=>{!i&&f({...t._formState,...E})}}),[u,i,a]),b.useEffect(()=>{A.current.isValid&&t._setValid(!0)},[t]),b.useMemo(()=>yt(l,t,A.current,!1),[l,t])}var H=e=>typeof e=="string",ht=(e,s,t,i,u)=>H(e)?(i&&s.watch.add(e),y(t,e,u)):Array.isArray(e)?e.map(a=>(i&&s.watch.add(a),y(t,a))):(i&&(s.watchAll=!0),t),ke=e=>W(e)||!lt(e);function te(e,s,t=new WeakSet){if(ke(e)||ke(s))return e===s;if(ne(e)&&ne(s))return e.getTime()===s.getTime();const i=Object.keys(e),u=Object.keys(s);if(i.length!==u.length)return!1;if(t.has(e)||t.has(s))return!0;t.add(e),t.add(s);for(const a of i){const l=e[a];if(!u.includes(a))return!1;if(a!=="ref"){const f=s[a];if(ne(l)&&ne(f)||L(l)&&L(f)||Array.isArray(l)&&Array.isArray(f)?!te(l,f,t):l!==f)return!1}}return!0}function Nt(e){const s=Ue(),{control:t=s.control,name:i,defaultValue:u,disabled:a,exact:l,compute:f}=e||{},A=b.useRef(u),E=b.useRef(f),v=b.useRef(void 0);E.current=f;const V=b.useMemo(()=>t._getWatch(i,A.current),[t,i]),[_,z]=b.useState(E.current?E.current(V):V);return Le(()=>t._subscribe({name:i,formState:{values:!0},exact:l,callback:q=>{if(!a){const S=ht(i,t._names,q.values||t._formValues,!1,A.current);if(E.current){const N=E.current(S);te(N,v.current)||(z(N),v.current=N)}else z(S)}}}),[t,a,i,l]),b.useEffect(()=>t._removeUnmounted()),_}function Pt(e){const s=Ue(),{name:t,disabled:i,control:u=s.control,shouldUnregister:a,defaultValue:l}=e,f=ct(u._names.array,t),A=b.useMemo(()=>y(u._formValues,t,y(u._defaultValues,t,l)),[u,t,l]),E=Nt({control:u,name:t,defaultValue:A,exact:!0}),v=pt({control:u,name:t,exact:!0}),V=b.useRef(e),_=b.useRef(void 0),z=b.useRef(u.register(t,{...e.rules,value:E,...j(e.disabled)?{disabled:e.disabled}:{}}));V.current=e;const q=b.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!y(v.errors,t)},isDirty:{enumerable:!0,get:()=>!!y(v.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!y(v.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!y(v.validatingFields,t)},error:{enumerable:!0,get:()=>y(v.errors,t)}}),[v,t]),S=b.useCallback(O=>z.current.onChange({target:{value:ft(O),name:t},type:_e.CHANGE}),[t]),N=b.useCallback(()=>z.current.onBlur({target:{value:y(u._formValues,t),name:t},type:_e.BLUR}),[t,u._formValues]),ae=b.useCallback(O=>{const p=y(u._fields,t);p&&O&&(p._f.ref={focus:()=>O.focus&&O.focus(),select:()=>O.select&&O.select(),setCustomValidity:C=>O.setCustomValidity(C),reportValidity:()=>O.reportValidity()})},[u._fields,t]),m=b.useMemo(()=>({name:t,value:E,...j(i)||v.disabled?{disabled:v.disabled||i}:{},onChange:S,onBlur:N,ref:ae}),[t,i,v.disabled,S,N,ae,E]);return b.useEffect(()=>{const O=u._options.shouldUnregister||a,p=_.current;p&&p!==t&&!f&&u.unregister(p),u.register(t,{...V.current.rules,...j(V.current.disabled)?{disabled:V.current.disabled}:{}});const C=(X,Y)=>{const se=y(u._fields,X);se&&se._f&&(se._f.mount=Y)};if(C(t,!0),O){const X=M(y(u._options.defaultValues,t,V.current.defaultValue));w(u._defaultValues,t,X),R(y(u._formValues,t))&&w(u._formValues,t,X)}return!f&&u.register(t),_.current=t,()=>{(f?O&&!u._state.action:O)?u.unregister(t):C(t,!1)}},[t,u,f,a]),b.useEffect(()=>{u._setDisabledField({disabled:i,name:t})},[i,t,u]),b.useMemo(()=>({field:m,formState:v,fieldState:q}),[m,v,q])}const ir=e=>e.render(Pt(e));var Me=(e,s,t,i,u)=>s?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[i]:u||!0}}:{},de=e=>Array.isArray(e)?e:[e],Ze=()=>{let e=[];return{get observers(){return e},next:u=>{for(const a of e)a.next&&a.next(u)},subscribe:u=>(e.push(u),{unsubscribe:()=>{e=e.filter(a=>a!==u)}}),unsubscribe:()=>{e=[]}}};function gt(e,s){const t={};for(const i in e)if(e.hasOwnProperty(i)){const u=e[i],a=s[i];if(u&&L(u)&&a){const l=gt(u,a);L(l)&&(t[i]=l)}else e[i]&&(t[i]=a)}return t}var I=e=>L(e)&&!Object.keys(e).length,pe=e=>e.type==="file",G=e=>typeof e=="function",be=e=>{if(!Oe)return!1;const s=e?e.ownerDocument:0;return e instanceof(s&&s.defaultView?s.defaultView.HTMLElement:HTMLElement)},vt=e=>e.type==="select-multiple",Ne=e=>e.type==="radio",Bt=e=>Ne(e)||he(e),De=e=>be(e)&&e.isConnected;function It(e,s){const t=s.slice(0,-1).length;let i=0;for(;i<t;)e=R(e)?i++:e[s[i++]];return e}function Wt(e){for(const s in e)if(e.hasOwnProperty(s)&&!R(e[s]))return!1;return!0}function U(e,s){const t=Array.isArray(s)?s:Ve(s)?[s]:Te(s),i=t.length===1?e:It(e,t),u=t.length-1,a=t[u];return i&&delete i[a],u!==0&&(L(i)&&I(i)||Array.isArray(i)&&Wt(i))&&U(e,t.slice(0,-1)),e}var qt=e=>{for(const s in e)if(G(e[s]))return!0;return!1};function _t(e){return Array.isArray(e)||L(e)&&!qt(e)}function Se(e,s={}){for(const t in e)_t(e[t])?(s[t]=Array.isArray(e[t])?[]:{},Se(e[t],s[t])):R(e[t])||(s[t]=!0);return s}function le(e,s,t){t||(t=Se(s));for(const i in e)_t(e[i])?R(s)||ke(t[i])?t[i]=Se(e[i],Array.isArray(e[i])?[]:{}):le(e[i],W(s)?{}:s[i],t[i]):t[i]=!te(e[i],s[i]);return t}const Ge={value:!1,isValid:!1},Ye={value:!0,isValid:!0};var bt=e=>{if(Array.isArray(e)){if(e.length>1){const s=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:s,isValid:!!s.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!R(e[0].attributes.value)?R(e[0].value)||e[0].value===""?Ye:{value:e[0].value,isValid:!0}:Ye:Ge}return Ge},mt=(e,{valueAsNumber:s,valueAsDate:t,setValueAs:i})=>R(e)?e:s?e===""?NaN:e&&+e:t&&H(e)?new Date(e):i?i(e):e;const Je={isValid:!1,value:null};var Vt=e=>Array.isArray(e)?e.reduce((s,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:s,Je):Je;function Qe(e){const s=e.ref;return pe(s)?s.files:Ne(s)?Vt(e.refs).value:vt(s)?[...s.selectedOptions].map(({value:t})=>t):he(s)?bt(e.refs).value:mt(R(s.value)?e.ref.value:s.value,e)}var jt=(e,s,t,i)=>{const u={};for(const a of e){const l=y(s,a);l&&w(u,a,l._f)}return{criteriaMode:t,names:[...e],fields:u,shouldUseNativeValidation:i}},me=e=>e instanceof RegExp,ce=e=>R(e)?e:me(e)?e.source:L(e)?me(e.value)?e.value.source:e.value:e,Xe=e=>({isOnSubmit:!e||e===Z.onSubmit,isOnBlur:e===Z.onBlur,isOnChange:e===Z.onChange,isOnAll:e===Z.all,isOnTouch:e===Z.onTouched});const et="AsyncFunction";var Ht=e=>!!e&&!!e.validate&&!!(G(e.validate)&&e.validate.constructor.name===et||L(e.validate)&&Object.values(e.validate).find(s=>s.constructor.name===et)),$t=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),tt=(e,s,t)=>!t&&(s.watchAll||s.watch.has(e)||[...s.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const ye=(e,s,t,i)=>{for(const u of t||Object.keys(e)){const a=y(e,u);if(a){const{_f:l,...f}=a;if(l){if(l.refs&&l.refs[0]&&s(l.refs[0],u)&&!i)return!0;if(l.ref&&s(l.ref,l.name)&&!i)return!0;if(ye(f,s))break}else if(L(f)&&ye(f,s))break}}};function rt(e,s,t){const i=y(e,t);if(i||Ve(t))return{error:i,name:t};const u=t.split(".");for(;u.length;){const a=u.join("."),l=y(s,a),f=y(e,a);if(l&&!Array.isArray(l)&&t!==a)return{name:t};if(f&&f.type)return{name:a,error:f};if(f&&f.root&&f.root.type)return{name:`${a}.root`,error:f.root};u.pop()}return{name:t}}var zt=(e,s,t,i)=>{t(e);const{name:u,...a}=e;return I(a)||Object.keys(a).length>=Object.keys(s).length||Object.keys(a).find(l=>s[l]===(!i||Z.all))},Kt=(e,s,t)=>!e||!s||e===s||de(e).some(i=>i&&(t?i===s:i.startsWith(s)||s.startsWith(i))),Zt=(e,s,t,i,u)=>u.isOnAll?!1:!t&&u.isOnTouch?!(s||e):(t?i.isOnBlur:u.isOnBlur)?!e:(t?i.isOnChange:u.isOnChange)?e:!0,Gt=(e,s)=>!Re(y(e,s)).length&&U(e,s),Yt=(e,s,t)=>{const i=de(y(e,t));return w(i,"root",s[t]),w(e,t,i),e};function st(e,s,t="validate"){if(H(e)||Array.isArray(e)&&e.every(H)||j(e)&&!e)return{type:t,message:H(e)?e:"",ref:s}}var oe=e=>L(e)&&!me(e)?e:{value:e,message:""},it=async(e,s,t,i,u,a)=>{const{ref:l,refs:f,required:A,maxLength:E,minLength:v,min:V,max:_,pattern:z,validate:q,name:S,valueAsNumber:N,mount:ae}=e._f,m=y(t,S);if(!ae||s.has(S))return{};const O=f?f[0]:l,p=F=>{u&&O.reportValidity&&(O.setCustomValidity(j(F)?"":F||""),O.reportValidity())},C={},X=Ne(l),Y=he(l),se=X||Y,K=(N||pe(l))&&R(l.value)&&R(m)||be(l)&&l.value===""||m===""||Array.isArray(m)&&!m.length,ie=Me.bind(null,S,i,C),J=(F,D,T,P=ee.maxLength,B=ee.minLength)=>{const Q=F?D:T;C[S]={type:F?P:B,message:Q,ref:l,...ie(F?P:B,Q)}};if(a?!Array.isArray(m)||!m.length:A&&(!se&&(K||W(m))||j(m)&&!m||Y&&!bt(f).isValid||X&&!Vt(f).isValid)){const{value:F,message:D}=H(A)?{value:!!A,message:A}:oe(A);if(F&&(C[S]={type:ee.required,message:D,ref:O,...ie(ee.required,D)},!i))return p(D),C}if(!K&&(!W(V)||!W(_))){let F,D;const T=oe(_),P=oe(V);if(!W(m)&&!isNaN(m)){const B=l.valueAsNumber||m&&+m;W(T.value)||(F=B>T.value),W(P.value)||(D=B<P.value)}else{const B=l.valueAsDate||new Date(m),Q=ge=>new Date(new Date().toDateString()+" "+ge),fe=l.type=="time",ue=l.type=="week";H(T.value)&&m&&(F=fe?Q(m)>Q(T.value):ue?m>T.value:B>new Date(T.value)),H(P.value)&&m&&(D=fe?Q(m)<Q(P.value):ue?m<P.value:B<new Date(P.value))}if((F||D)&&(J(!!F,T.message,P.message,ee.max,ee.min),!i))return p(C[S].message),C}if((E||v)&&!K&&(H(m)||a&&Array.isArray(m))){const F=oe(E),D=oe(v),T=!W(F.value)&&m.length>+F.value,P=!W(D.value)&&m.length<+D.value;if((T||P)&&(J(T,F.message,D.message),!i))return p(C[S].message),C}if(z&&!K&&H(m)){const{value:F,message:D}=oe(z);if(me(F)&&!m.match(F)&&(C[S]={type:ee.pattern,message:D,ref:l,...ie(ee.pattern,D)},!i))return p(D),C}if(q){if(G(q)){const F=await q(m,t),D=st(F,O);if(D&&(C[S]={...D,...ie(ee.validate,D.message)},!i))return p(D.message),C}else if(L(q)){let F={};for(const D in q){if(!I(F)&&!i)break;const T=st(await q[D](m,t),O,D);T&&(F={...T,...ie(D,T.message)},p(T.message),i&&(C[S]=F))}if(!I(F)&&(C[S]={ref:O,...F},!i))return C}}return p(!0),C};const Jt={mode:Z.onSubmit,reValidateMode:Z.onChange,shouldFocusError:!0};function Qt(e={}){let s={...Jt,...e},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:G(s.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1},i={},u=L(s.defaultValues)||L(s.values)?M(s.defaultValues||s.values)||{}:{},a=s.shouldUnregister?{}:M(u),l={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},A,E=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let V={...v};const _={array:Ze(),state:Ze()},z=s.criteriaMode===Z.all,q=r=>n=>{clearTimeout(E),E=setTimeout(r,n)},S=async r=>{if(!s.disabled&&(v.isValid||V.isValid||r)){const n=s.resolver?I((await Y()).errors):await K(i,!0);n!==t.isValid&&_.state.next({isValid:n})}},N=(r,n)=>{!s.disabled&&(v.isValidating||v.validatingFields||V.isValidating||V.validatingFields)&&((r||Array.from(f.mount)).forEach(o=>{o&&(n?w(t.validatingFields,o,n):U(t.validatingFields,o))}),_.state.next({validatingFields:t.validatingFields,isValidating:!I(t.validatingFields)}))},ae=(r,n=[],o,h,d=!0,c=!0)=>{if(h&&o&&!s.disabled){if(l.action=!0,c&&Array.isArray(y(i,r))){const g=o(y(i,r),h.argA,h.argB);d&&w(i,r,g)}if(c&&Array.isArray(y(t.errors,r))){const g=o(y(t.errors,r),h.argA,h.argB);d&&w(t.errors,r,g),Gt(t.errors,r)}if((v.touchedFields||V.touchedFields)&&c&&Array.isArray(y(t.touchedFields,r))){const g=o(y(t.touchedFields,r),h.argA,h.argB);d&&w(t.touchedFields,r,g)}(v.dirtyFields||V.dirtyFields)&&(t.dirtyFields=le(u,a)),_.state.next({name:r,isDirty:J(r,n),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else w(a,r,n)},m=(r,n)=>{w(t.errors,r,n),_.state.next({errors:t.errors})},O=r=>{t.errors=r,_.state.next({errors:t.errors,isValid:!1})},p=(r,n,o,h)=>{const d=y(i,r);if(d){const c=y(a,r,R(o)?y(u,r):o);R(c)||h&&h.defaultChecked||n?w(a,r,n?c:Qe(d._f)):T(r,c),l.mount&&S()}},C=(r,n,o,h,d)=>{let c=!1,g=!1;const x={name:r};if(!s.disabled){if(!o||h){(v.isDirty||V.isDirty)&&(g=t.isDirty,t.isDirty=x.isDirty=J(),c=g!==x.isDirty);const k=te(y(u,r),n);g=!!y(t.dirtyFields,r),k?U(t.dirtyFields,r):w(t.dirtyFields,r,!0),x.dirtyFields=t.dirtyFields,c=c||(v.dirtyFields||V.dirtyFields)&&g!==!k}if(o){const k=y(t.touchedFields,r);k||(w(t.touchedFields,r,o),x.touchedFields=t.touchedFields,c=c||(v.touchedFields||V.touchedFields)&&k!==o)}c&&d&&_.state.next(x)}return c?x:{}},X=(r,n,o,h)=>{const d=y(t.errors,r),c=(v.isValid||V.isValid)&&j(n)&&t.isValid!==n;if(s.delayError&&o?(A=q(()=>m(r,o)),A(s.delayError)):(clearTimeout(E),A=null,o?w(t.errors,r,o):U(t.errors,r)),(o?!te(d,o):d)||!I(h)||c){const g={...h,...c&&j(n)?{isValid:n}:{},errors:t.errors,name:r};t={...t,...g},_.state.next(g)}},Y=async r=>{N(r,!0);const n=await s.resolver(a,s.context,jt(r||f.mount,i,s.criteriaMode,s.shouldUseNativeValidation));return N(r),n},se=async r=>{const{errors:n}=await Y(r);if(r)for(const o of r){const h=y(n,o);h?w(t.errors,o,h):U(t.errors,o)}else t.errors=n;return n},K=async(r,n,o={valid:!0})=>{for(const h in r){const d=r[h];if(d){const{_f:c,...g}=d;if(c){const x=f.array.has(c.name),k=d._f&&Ht(d._f);k&&v.validatingFields&&N([c.name],!0);const $=await it(d,f.disabled,a,z,s.shouldUseNativeValidation&&!n,x);if(k&&v.validatingFields&&N([c.name]),$[c.name]&&(o.valid=!1,n))break;!n&&(y($,c.name)?x?Yt(t.errors,$,c.name):w(t.errors,c.name,$[c.name]):U(t.errors,c.name))}!I(g)&&await K(g,n,o)}}return o.valid},ie=()=>{for(const r of f.unMount){const n=y(i,r);n&&(n._f.refs?n._f.refs.every(o=>!De(o)):!De(n._f.ref))&&Fe(r)}f.unMount=new Set},J=(r,n)=>!s.disabled&&(r&&n&&w(a,r,n),!te(ge(),u)),F=(r,n,o)=>ht(r,f,{...l.mount?a:R(n)?u:H(r)?{[r]:n}:n},o,n),D=r=>Re(y(l.mount?a:u,r,s.shouldUnregister?y(u,r,[]):[])),T=(r,n,o={})=>{const h=y(i,r);let d=n;if(h){const c=h._f;c&&(!c.disabled&&w(a,r,mt(n,c)),d=be(c.ref)&&W(n)?"":n,vt(c.ref)?[...c.ref.options].forEach(g=>g.selected=d.includes(g.value)):c.refs?he(c.ref)?c.refs.forEach(g=>{(!g.defaultChecked||!g.disabled)&&(Array.isArray(d)?g.checked=!!d.find(x=>x===g.value):g.checked=d===g.value||!!d)}):c.refs.forEach(g=>g.checked=g.value===d):pe(c.ref)?c.ref.value="":(c.ref.value=d,c.ref.type||_.state.next({name:r,values:M(a)})))}(o.shouldDirty||o.shouldTouch)&&C(r,d,o.shouldTouch,o.shouldDirty,!0),o.shouldValidate&&ue(r)},P=(r,n,o)=>{for(const h in n){if(!n.hasOwnProperty(h))return;const d=n[h],c=r+"."+h,g=y(i,c);(f.array.has(r)||L(d)||g&&!g._f)&&!ne(d)?P(c,d,o):T(c,d,o)}},B=(r,n,o={})=>{const h=y(i,r),d=f.array.has(r),c=M(n);w(a,r,c),d?(_.array.next({name:r,values:M(a)}),(v.isDirty||v.dirtyFields||V.isDirty||V.dirtyFields)&&o.shouldDirty&&_.state.next({name:r,dirtyFields:le(u,a),isDirty:J(r,c)})):h&&!h._f&&!W(c)?P(r,c,o):T(r,c,o),tt(r,f)&&_.state.next({...t,name:r}),_.state.next({name:l.mount?r:void 0,values:M(a)})},Q=async r=>{l.mount=!0;const n=r.target;let o=n.name,h=!0;const d=y(i,o),c=k=>{h=Number.isNaN(k)||ne(k)&&isNaN(k.getTime())||te(k,y(a,o,k))},g=Xe(s.mode),x=Xe(s.reValidateMode);if(d){let k,$;const ve=n.type?Qe(d._f):ft(r),re=r.type===_e.BLUR||r.type===_e.FOCUS_OUT,St=!$t(d._f)&&!s.resolver&&!y(t.errors,o)&&!d._f.deps||Zt(re,y(t.touchedFields,o),t.isSubmitted,x,g),we=tt(o,f,re);w(a,o,ve),re?(!n||!n.readOnly)&&(d._f.onBlur&&d._f.onBlur(r),A&&A(0)):d._f.onChange&&d._f.onChange(r);const Ee=C(o,ve,re),Ct=!I(Ee)||we;if(!re&&_.state.next({name:o,type:r.type,values:M(a)}),St)return(v.isValid||V.isValid)&&(s.mode==="onBlur"?re&&S():re||S()),Ct&&_.state.next({name:o,...we?{}:Ee});if(!re&&we&&_.state.next({...t}),s.resolver){const{errors:ze}=await Y([o]);if(c(ve),h){const Ot=rt(t.errors,i,o),Ke=rt(ze,i,Ot.name||o);k=Ke.error,o=Ke.name,$=I(ze)}}else N([o],!0),k=(await it(d,f.disabled,a,z,s.shouldUseNativeValidation))[o],N([o]),c(ve),h&&(k?$=!1:(v.isValid||V.isValid)&&($=await K(i,!0)));h&&(d._f.deps&&(!Array.isArray(d._f.deps)||d._f.deps.length>0)&&ue(d._f.deps),X(o,$,k,Ee))}},fe=(r,n)=>{if(y(t.errors,n)&&r.focus)return r.focus(),1},ue=async(r,n={})=>{let o,h;const d=de(r);if(s.resolver){const c=await se(R(r)?r:d);o=I(c),h=r?!d.some(g=>y(c,g)):o}else r?(h=(await Promise.all(d.map(async c=>{const g=y(i,c);return await K(g&&g._f?{[c]:g}:g)}))).every(Boolean),!(!h&&!t.isValid)&&S()):h=o=await K(i);return _.state.next({...!H(r)||(v.isValid||V.isValid)&&o!==t.isValid?{}:{name:r},...s.resolver||!r?{isValid:o}:{},errors:t.errors}),n.shouldFocus&&!h&&ye(i,fe,r?d:f.mount),h},ge=(r,n)=>{let o={...l.mount?a:u};return n&&(o=gt(n.dirtyFields?t.dirtyFields:t.touchedFields,o)),R(r)?o:H(r)?y(o,r):r.map(h=>y(o,h))},Pe=(r,n)=>({invalid:!!y((n||t).errors,r),isDirty:!!y((n||t).dirtyFields,r),error:y((n||t).errors,r),isValidating:!!y(t.validatingFields,r),isTouched:!!y((n||t).touchedFields,r)}),Ft=r=>{r&&de(r).forEach(n=>U(t.errors,n)),_.state.next({errors:r?t.errors:{}})},Be=(r,n,o)=>{const h=(y(i,r,{_f:{}})._f||{}).ref,d=y(t.errors,r)||{},{ref:c,message:g,type:x,...k}=d;w(t.errors,r,{...k,...n,ref:h}),_.state.next({name:r,errors:t.errors,isValid:!1}),o&&o.shouldFocus&&h&&h.focus&&h.focus()},At=(r,n)=>G(r)?_.state.subscribe({next:o=>"values"in o&&r(F(void 0,n),o)}):F(r,n,!0),Ie=r=>_.state.subscribe({next:n=>{Kt(r.name,n.name,r.exact)&&zt(n,r.formState||v,kt,r.reRenderRoot)&&r.callback({values:{...a},...t,...n,defaultValues:u})}}).unsubscribe,xt=r=>(l.mount=!0,V={...V,...r.formState},Ie({...r,formState:V})),Fe=(r,n={})=>{for(const o of r?de(r):f.mount)f.mount.delete(o),f.array.delete(o),n.keepValue||(U(i,o),U(a,o)),!n.keepError&&U(t.errors,o),!n.keepDirty&&U(t.dirtyFields,o),!n.keepTouched&&U(t.touchedFields,o),!n.keepIsValidating&&U(t.validatingFields,o),!s.shouldUnregister&&!n.keepDefaultValue&&U(u,o);_.state.next({values:M(a)}),_.state.next({...t,...n.keepDirty?{isDirty:J()}:{}}),!n.keepIsValid&&S()},We=({disabled:r,name:n})=>{(j(r)&&l.mount||r||f.disabled.has(n))&&(r?f.disabled.add(n):f.disabled.delete(n))},Ae=(r,n={})=>{let o=y(i,r);const h=j(n.disabled)||j(s.disabled);return w(i,r,{...o||{},_f:{...o&&o._f?o._f:{ref:{name:r}},name:r,mount:!0,...n}}),f.mount.add(r),o?We({disabled:j(n.disabled)?n.disabled:s.disabled,name:r}):p(r,!0,n.value),{...h?{disabled:n.disabled||s.disabled}:{},...s.progressive?{required:!!n.required,min:ce(n.min),max:ce(n.max),minLength:ce(n.minLength),maxLength:ce(n.maxLength),pattern:ce(n.pattern)}:{},name:r,onChange:Q,onBlur:Q,ref:d=>{if(d){Ae(r,n),o=y(i,r);const c=R(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,g=Bt(c),x=o._f.refs||[];if(g?x.find(k=>k===c):c===o._f.ref)return;w(i,r,{_f:{...o._f,...g?{refs:[...x.filter(De),c,...Array.isArray(y(u,r))?[{}]:[]],ref:{type:c.type,name:r}}:{ref:c}}}),p(r,!1,void 0,c)}else o=y(i,r,{}),o._f&&(o._f.mount=!1),(s.shouldUnregister||n.shouldUnregister)&&!(ct(f.array,r)&&l.action)&&f.unMount.add(r)}}},xe=()=>s.shouldFocusError&&ye(i,fe,f.mount),wt=r=>{j(r)&&(_.state.next({disabled:r}),ye(i,(n,o)=>{const h=y(i,o);h&&(n.disabled=h._f.disabled||r,Array.isArray(h._f.refs)&&h._f.refs.forEach(d=>{d.disabled=h._f.disabled||r}))},0,!1))},qe=(r,n)=>async o=>{let h;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let d=M(a);if(_.state.next({isSubmitting:!0}),s.resolver){const{errors:c,values:g}=await Y();t.errors=c,d=M(g)}else await K(i);if(f.disabled.size)for(const c of f.disabled)U(d,c);if(U(t.errors,"root"),I(t.errors)){_.state.next({errors:{}});try{await r(d,o)}catch(c){h=c}}else n&&await n({...t.errors},o),xe(),setTimeout(xe);if(_.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:I(t.errors)&&!h,submitCount:t.submitCount+1,errors:t.errors}),h)throw h},Et=(r,n={})=>{y(i,r)&&(R(n.defaultValue)?B(r,M(y(u,r))):(B(r,n.defaultValue),w(u,r,M(n.defaultValue))),n.keepTouched||U(t.touchedFields,r),n.keepDirty||(U(t.dirtyFields,r),t.isDirty=n.defaultValue?J(r,M(y(u,r))):J()),n.keepError||(U(t.errors,r),v.isValid&&S()),_.state.next({...t}))},je=(r,n={})=>{const o=r?M(r):u,h=M(o),d=I(r),c=d?u:h;if(n.keepDefaultValues||(u=o),!n.keepValues){if(n.keepDirtyValues){const g=new Set([...f.mount,...Object.keys(le(u,a))]);for(const x of Array.from(g))y(t.dirtyFields,x)?w(c,x,y(a,x)):B(x,y(c,x))}else{if(Oe&&R(r))for(const g of f.mount){const x=y(i,g);if(x&&x._f){const k=Array.isArray(x._f.refs)?x._f.refs[0]:x._f.ref;if(be(k)){const $=k.closest("form");if($){$.reset();break}}}}if(n.keepFieldsRef)for(const g of f.mount)B(g,y(c,g));else i={}}a=s.shouldUnregister?n.keepDefaultValues?M(u):{}:M(c),_.array.next({values:{...c}}),_.state.next({values:{...c}})}f={mount:n.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!v.isValid||!!n.keepIsValid||!!n.keepDirtyValues,l.watch=!!s.shouldUnregister,_.state.next({submitCount:n.keepSubmitCount?t.submitCount:0,isDirty:d?!1:n.keepDirty?t.isDirty:!!(n.keepDefaultValues&&!te(r,u)),isSubmitted:n.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:d?{}:n.keepDirtyValues?n.keepDefaultValues&&a?le(u,a):t.dirtyFields:n.keepDefaultValues&&r?le(u,r):n.keepDirty?t.dirtyFields:{},touchedFields:n.keepTouched?t.touchedFields:{},errors:n.keepErrors?t.errors:{},isSubmitSuccessful:n.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:u})},He=(r,n)=>je(G(r)?r(a):r,n),Dt=(r,n={})=>{const o=y(i,r),h=o&&o._f;if(h){const d=h.refs?h.refs[0]:h.ref;d.focus&&(d.focus(),n.shouldSelect&&G(d.select)&&d.select())}},kt=r=>{t={...t,...r}},$e={control:{register:Ae,unregister:Fe,getFieldState:Pe,handleSubmit:qe,setError:Be,_subscribe:Ie,_runSchema:Y,_focusError:xe,_getWatch:F,_getDirty:J,_setValid:S,_setFieldArray:ae,_setDisabledField:We,_setErrors:O,_getFieldArray:D,_reset:je,_resetDefaultValues:()=>G(s.defaultValues)&&s.defaultValues().then(r=>{He(r,s.resetOptions),_.state.next({isLoading:!1})}),_removeUnmounted:ie,_disableForm:wt,_subjects:_,_proxyFormState:v,get _fields(){return i},get _formValues(){return a},get _state(){return l},set _state(r){l=r},get _defaultValues(){return u},get _names(){return f},set _names(r){f=r},get _formState(){return t},get _options(){return s},set _options(r){s={...s,...r}}},subscribe:xt,trigger:ue,register:Ae,handleSubmit:qe,watch:At,setValue:B,getValues:ge,reset:He,resetField:Et,clearErrors:Ft,unregister:Fe,setError:Be,setFocus:Dt,getFieldState:Pe};return{...$e,formControl:$e}}function nr(e={}){const s=b.useRef(void 0),t=b.useRef(void 0),[i,u]=b.useState({isDirty:!1,isValidating:!1,isLoading:G(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:G(e.defaultValues)?void 0:e.defaultValues});if(!s.current)if(e.formControl)s.current={...e.formControl,formState:i},e.defaultValues&&!G(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:l,...f}=Qt(e);s.current={...f,formState:i}}const a=s.current.control;return a._options=e,Le(()=>{const l=a._subscribe({formState:a._proxyFormState,callback:()=>u({...a._formState}),reRenderRoot:!0});return u(f=>({...f,isReady:!0})),a._formState.isReady=!0,l},[a]),b.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),b.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),b.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),b.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),b.useEffect(()=>{if(a._proxyFormState.isDirty){const l=a._getDirty();l!==i.isDirty&&a._subjects.state.next({isDirty:l})}},[a,i.isDirty]),b.useEffect(()=>{e.values&&!te(e.values,t.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),t.current=e.values,u(l=>({...l}))):a._resetDefaultValues()},[a,e.values]),b.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),s.current.formState=yt(i,a),s.current}const nt=(e,s,t)=>{if(e&&"reportValidity"in e){const i=y(t,s);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},Ce=(e,s)=>{for(const t in s.fields){const i=s.fields[t];i&&i.ref&&"reportValidity"in i.ref?nt(i.ref,t,e):i&&i.refs&&i.refs.forEach(u=>nt(u,t,e))}},at=(e,s)=>{s.shouldUseNativeValidation&&Ce(e,s);const t={};for(const i in e){const u=y(s.fields,i),a=Object.assign(e[i]||{},{ref:u&&u.ref});if(Xt(s.names||Object.keys(e),i)){const l=Object.assign({},y(t,i));w(l,"root",a),w(t,i,l)}else w(t,i,a)}return t},Xt=(e,s)=>{const t=ut(s);return e.some(i=>ut(i).match(`^${t}\\.\\d+`))};function ut(e){return e.replace(/\]|\[/g,"")}function ot(e,s){try{var t=e()}catch(i){return s(i)}return t&&t.then?t.then(void 0,s):t}function er(e,s){for(var t={};e.length;){var i=e[0],u=i.code,a=i.message,l=i.path.join(".");if(!t[l])if("unionErrors"in i){var f=i.unionErrors[0].errors[0];t[l]={message:f.message,type:f.code}}else t[l]={message:a,type:u};if("unionErrors"in i&&i.unionErrors.forEach(function(v){return v.errors.forEach(function(V){return e.push(V)})}),s){var A=t[l].types,E=A&&A[i.code];t[l]=Me(l,s,t,u,E?[].concat(E,i.message):i.message)}e.shift()}return t}function tr(e,s){for(var t={};e.length;){var i=e[0],u=i.code,a=i.message,l=i.path.join(".");if(!t[l])if(i.code==="invalid_union"&&i.errors.length>0){var f=i.errors[0][0];t[l]={message:f.message,type:f.code}}else t[l]={message:a,type:u};if(i.code==="invalid_union"&&i.errors.forEach(function(v){return v.forEach(function(V){return e.push(V)})}),s){var A=t[l].types,E=A&&A[i.code];t[l]=Me(l,s,t,u,E?[].concat(E,i.message):i.message)}e.shift()}return t}function ar(e,s,t){if(t===void 0&&(t={}),(function(i){return"_def"in i&&typeof i._def=="object"&&"typeName"in i._def})(e))return function(i,u,a){try{return Promise.resolve(ot(function(){return Promise.resolve(e[t.mode==="sync"?"parse":"parseAsync"](i,s)).then(function(l){return a.shouldUseNativeValidation&&Ce({},a),{errors:{},values:t.raw?Object.assign({},i):l}})},function(l){if((function(f){return Array.isArray(f?.issues)})(l))return{values:{},errors:at(er(l.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw l}))}catch(l){return Promise.reject(l)}};if((function(i){return"_zod"in i&&typeof i._zod=="object"})(e))return function(i,u,a){try{return Promise.resolve(ot(function(){return Promise.resolve((t.mode==="sync"?Rt:Tt)(e,i,s)).then(function(l){return a.shouldUseNativeValidation&&Ce({},a),{errors:{},values:t.raw?Object.assign({},i):l}})},function(l){if((function(f){return f instanceof Ut})(l))return{values:{},errors:at(tr(l.issues,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw l}))}catch(l){return Promise.reject(l)}};throw new Error("Invalid input: not a Zod schema")}export{ir as C,ar as a,nr as u};
